
/*****************************************************************************************************************/
#include<stdio.h>
#include<conio.h>
#include<stdlib.h>
struct Date
{
	int year;
	int month;
	int day;
	int NLyear;
	int NLmonth;
	int NLday;
	int week;
}d;
//农历判断春节的！
unsigned int chinese[199]={
		0x04AE53,0x0A5748,0x5526BD,0x0D2650,0x0D9544,0x46AAB9,0x056A4D,0x09AD42,0x24AEB6,0x04AE4A,/*1901-1910*/
		0x6A4DBE,0x0A4D52,0x0D2546,0x5D52BA,0x0B544E,0x0D6A43,0x296D37,0x095B4B,0x749BC1,0x049754,/*1911-1920*/
		0x0A4B48,0x5B25BC,0x06A550,0x06D445,0x4ADAB8,0x02B64D,0x095742,0x2497B7,0x04974A,0x664B3E,/*1921-1930*/
		0x0D4A51,0x0EA546,0x56D4BA,0x05AD4E,0x02B644,0x393738,0x092E4B,0x7C96BF,0x0C9553,0x0D4A48,/*1931-1940*/   
		0x6DA53B,0x0B554F,0x056A45,0x4AADB9,0x025D4D,0x092D42,0x2C95B6,0x0A954A,0x7B4ABD,0x06CA51,/*1941-1950*/
		0x0B5546,0x555ABB,0x04DA4E,0x0A5B43,0x352BB8,0x052B4C,0x8A953F,0x0E9552,0x06AA48,0x6AD53C,/*1951-1960*/
		0x0AB54F,0x04B645,0x4A5739,0x0A574D,0x052642,0x3E9335,0x0D9549,0x75AABE,0x056A51,0x096D46,/*1961-1970*/
		0x54AEBB,0x04AD4F,0x0A4D43,0x4D26B7,0x0D254B,0x8D52BF,0x0B5452,0x0B6A47,0x696D3C,0x095B50,/*1971-1980*/
		0x049B45,0x4A4BB9,0x0A4B4D,0xAB25C2,0x06A554,0x06D449,0x6ADA3D,0x0AB651,0x093746,0x5497BB,/*1981-1990*/
		0x04974F,0x064B44,0x36A537,0x0EA54A,0x86B2BF,0x05AC53,0x0AB647,0x5936BC,0x092E50,0x0C9645,/*1991-2000*/
		0x4D4AB8,0x0D4A4C,0x0DA541,0x25AAB6,0x056A49,0x7AADBD,0x025D52,0x092D47,0x5C95BA,0x0A954E,/*2001-2010*/
		0x0B4A43,0x4B5537,0x0AD54A,0x955ABF,0x04BA53,0x0A5B48,0x652BBC,0x052B50,0x0A9345,0x474AB9,/*2011-2020*/
		0x06AA4C,0x0AD541,0x24DAB6,0x04B64A,0x69573D,0x0A4E51,0x0D2646,0x5E933A,0x0D534D,0x05AA43,/*2021-2030*/
		0x36B537,0x096D4B,0xB4AEBF,0x04AD53,0x0A4D48,0x6D25BC,0x0D254F,0x0D5244,0x5DAA38,0x0B5A4C,/*2031-2040*/
		0x056D41,0x24ADB6,0x049B4A,0x7A4BBE,0x0A4B51,0x0AA546,0x5B52BA,0x06D24E,0x0ADA42,0x355B37,/*2041-2050*/
		0x09374B,0x8497C1,0x049753,0x064B48,0x66A53C,0x0EA54F,0x06B244,0x4AB638,0x0AAE4C,0x092E42,/*2051-2060*/
		0x3C9735,0x0C9649,0x7D4ABD,0x0D4A51,0x0DA545,0x55AABA,0x056A4E,0x0A6D43,0x452EB7,0x052D4B,/*2061-2070*/
		0x8A95BF,0x0A9553,0x0B4A47,0x6B553B,0x0AD54F,0x055A45,0x4A5D38,0x0A5B4C,0x052B42,0x3A93B6,/*2071-2080*/
		0x069349,0x7729BD,0x06AA51,0x0AD546,0x54DABA,0x04B64E,0x0A5743,0x452738,0x0D264A,0x8E933E,/*2081-2090*/
		0x0D5252,0x0DAA47,0x66B53B,0x056D4F,0x04AE45,0x4A4EB9,0x0A4D4C,0x0D1541,0x2D92B5          /*2091-2099*/

};
//节气
unsigned int solar_term[]={
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1901   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1902   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1903   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //1904   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1905   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1906   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1907   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1908   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1909   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1910   
       0x96,0xA5,0x87,0x96,0x87,0x87,0x79,0x69,0x69,0x69,0x78,0x78,     //1911   
       0x86,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1912   
       0x95,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1913   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1914   
       0x96,0xA5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1915   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1916   
       0x95,0xB4,0x96,0xA6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1917   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x77,     //1918   
       0x96,0xA5,0x97,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1919   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1920   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1921   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x77,     //1922   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x69,0x69,0x78,0x78,     //1923   
       0x96,0xA5,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1924   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x87,     //1925   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1926   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1927   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1928   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1929   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1930   
       0x96,0xA4,0x96,0x96,0x97,0x87,0x79,0x79,0x79,0x69,0x78,0x78,     //1931   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1932   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1933   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1934   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1935   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1936   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1937   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1938   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1939   
       0x96,0xA5,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1940   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1941   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1942   
       0x96,0xA4,0x96,0x96,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1943   
       0x96,0xA5,0x96,0xA5,0xA6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1944   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1945   
       0x95,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1946   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1947   
       0x96,0xA5,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1948   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x79,0x78,0x79,0x77,0x87,     //1949   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1950   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x79,0x79,0x79,0x69,0x78,0x78,     //1951   
       0x96,0xA5,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1952   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1953   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x68,0x78,0x87,     //1954   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1955   
       0x96,0xA5,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1956   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1957   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1958   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1959   
       0x96,0xA4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1960   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1961   
       0x96,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1962   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1963   
       0x96,0xA4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1964   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1965   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1966   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1967   
       0x96,0xA4,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1968   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1969   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1970   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x79,0x69,0x78,0x77,     //1971   
       0x96,0xA4,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1972   
       0xA5,0xB5,0x96,0xA5,0xA6,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1973   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1974   
       0x96,0xB4,0x96,0xA6,0x97,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1975   
       0x96,0xA4,0xA5,0xB5,0xA6,0xA6,0x88,0x89,0x88,0x78,0x87,0x87,     //1976   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1977   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //1978   
       0x96,0xB4,0x96,0xA6,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1979   
       0x96,0xA4,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1980   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x77,0x87,     //1981   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1982   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x78,0x79,0x78,0x69,0x78,0x77,     //1983   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //1984   
       0xA5,0xB4,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //1985   
       0xA5,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //1986   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x79,0x78,0x69,0x78,0x87,     //1987   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1988   
       0xA5,0xB4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1989   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //1990   
       0x95,0xB4,0x96,0xA5,0x86,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1991   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1992   
       0xA5,0xB3,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //1993   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1994   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x76,0x78,0x69,0x78,0x87,     //1995   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //1996   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //1997   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //1998   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //1999 
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2000   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2001   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2002   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //2003   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2004   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2005   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2006   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x69,0x78,0x87,     //2007   
       0x96,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2008   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2009   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2010   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x78,0x87,     //2011   
       0x95,0xB4,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2012   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2013   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2014   
       0x95,0xB4,0x96,0xA5,0x96,0x97,0x88,0x78,0x78,0x79,0x77,0x87,     //2015   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2016   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2017   
       0xA5,0xB4,0xA6,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2018   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //2019   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x86,     //2020   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2021   
       0xA5,0xB4,0xA5,0xA5,0xA6,0x96,0x88,0x88,0x88,0x78,0x87,0x87,     //2022   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x79,0x77,0x87,     //2023   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2024   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2025   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2026   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2027   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2028   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2029   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2030   
       0xA5,0xB4,0x96,0xA5,0x96,0x96,0x88,0x78,0x78,0x78,0x87,0x87,     //2031   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2032   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x86,     //2033   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x78,0x88,0x78,0x87,0x87,     //2034   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2035   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2036   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x86,     //2037   
       0xA5,0xB3,0xA5,0xA5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2038   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2039   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x96,     //2040   
       0xA5,0xC3,0xA5,0xB5,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2041   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x88,0x88,0x88,0x78,0x87,0x87,     //2042   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2043   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA6,0x97,0x87,0x87,0x88,0x87,0x96,     //2044   
       0xA5,0xC3,0xA5,0xB4,0xA5,0xA6,0x87,0x88,0x87,0x78,0x87,0x86,     //2045   
       0xA5,0xB3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x88,0x78,0x87,0x87,     //2046   
       0xA5,0xB4,0x96,0xA5,0xA6,0x96,0x88,0x88,0x78,0x78,0x87,0x87,     //2047   
       0x95,0xB4,0xA5,0xB4,0xA5,0xA5,0x97,0x87,0x87,0x88,0x86,0x96,     //2048   
       0xA4,0xC3,0xA5,0xA5,0xA5,0xA6,0x97,0x87,0x87,0x78,0x87,0x86,     //2049   
       0xA5,0xC3,0xA5,0xB5,0xA6,0xA6,0x87,0x88,0x78,0x78,0x87,0x87,     //2050

};
char ss[][6]={"小寒","大寒","立春","雨水","惊蜇","春分","清明","谷雨","立夏",
              "小满","芒种","夏至","小暑","大暑","立秋","处暑","白露",
			  "秋分","寒露","霜降","立冬","小雪","大雪","冬至"};

char nl[][6]={" ","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十",
				"十一","十二","十三","十四","十五","十六","十七","十八","十九","二十",

				"廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"};

char nlyf[][6]={" ","春节","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"};
char nlyf1[][6]={" ","正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"};

char ylyf[][10]={" ","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"};

char sx[][6]={" ","鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"};

int a1[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};
int a2[13]={0,31,29,31,30,31,30,31,31,30,31,30,31};

char xq[][10]={" ","星期一","星期二","星期三","星期四","星期五","星期六","星期日"};

char gz[][6]={" ","甲子","乙丑","丙寅","丁卯","戊辰","已巳","庚午","辛未","壬申","癸酉","甲戌","乙亥","丙子",
			  "丁丑","戊寅","已卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥","戊子","已丑 ","庚寅",
			  "辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","已亥","庚子","辛丑","壬寅 ","癸卯","甲辰",
			  "乙巳","丙午","丁未","戊申","已酉","庚戌","辛亥","壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","已未 ","庚申","辛酉","壬戌","癸亥"};
//判断闰年******************************************
int pd(int x)
{
	if(x%4==0 && x%100 !=0 || x%400 == 0)
		return 1;
	else
		return 0;
}
//******************************************************
//转换农历************************************************************************************************************************
int zhNL(int y,int m,int d,int &ly,int &lm,int &ld)
{
	int f=0,l=0;
	int i,k=0;
	int springday;
	int index;
	int st;
	int sh;
	int dd;
	dd=chinese[y-1901];
	sh=chinese[y-1901];
	//春节到元旦的天数
	if((dd>>5&0x03)==1)
	{
		springday=(dd &0x01F)-1;
	}
	else
	{
		springday=(dd &0x01F)-1+31;
	}
	//公历日到元旦的天数
	int sunday=0;
	for(i=1;i<m;i++)
	{
		sunday=sunday+a1[i];
	}
	if( pd(y) && m >2)
		sunday++;
	sunday=sunday+d;
	if(springday>=sunday)
	{
		if(dd>>20==0)
			index=1;
	    else
		{
			index=0;
			l=sh>>20;
		}
		ly=y-1;
		lm=12;
		ld=springday-sunday;
		while(1)
		{
			if((dd>>(6+index)&0x01)==0)
				st=29;
			else
				st=30;
			if(ld>st)
			{
				ld=ld-st;
				index++;
				lm--;
				if(lm==l-1 && k==0)
				{
					lm++;
					k=1;
				}
			}	
			else
			    return ld=st-ld+1;
		}
	}
	else
	{
		if(dd>>20 ==0)
			index=0;
	    else
		{
			index=1;
			l=sh>>20;
			f=1;
		}
		ld=sunday-springday;
		ly=y;
		lm=1;
		while(1)
		{
			if((dd>>(19+index-f)&0x01)==0)
				st=29;
			else 
				st=30;
			if(ld>st)
			{
				ld=ld-st;
				f++;
				lm++;	
				if(lm==l+1 && k==0)
				{
					lm--;
					k=1;
				}
			}
			else
				return ld;
		}
	}
}
//生肖*********************************************************************************************************
int shengxiao(int y,int x,int z)
{
	int n;
	int ly,lm,lz;
	zhNL(y,x,z,ly,lm,lz);
	n=ly-1900;
	n=n%12;
	return n+1;
}
//求!节!气!**********************************************************************************************************
int jieqi(int y,int m,int d)
{
	int jq;
	int dd;
	jq=solar_term[(y-1901)*12+m-1];
	if(d<15)
	{
		dd=jq>>4;
		if(15-dd==d)
			return m*2-2;
	}
	else
	{
		dd=jq&0x0F;
		if(15+dd==d)
			return m*2-1; 
	}
	return -1;
}
//不知道在干什么**********************************************************************************************
int pd1(int a,int b)
{
    if(a==1 && b==1 || a==2 && b==14 ||a==3 && b==8 || a==4 && b==1 ||a==4 && b==5 || a==5 && b==1 || a==6 && b==1 || 
	   a==7 && b==1 || a==8 && b==1 || a==9 && b==10 || a==10 && b==1 || a==11 && b==26 ||a==12 && b==25)
	   return 1;
	else 
		return 0;
}
//判断节日***************************************************************************************************
void pajr(int a,int b)
{
	if(a==1&&b==1)
		printf("\t元旦");
	else if(a==2 && b==14)
		printf("\t情人节");
	else if(a==3 && b==8)
		printf("\t妇女节");
	else if(a==4 && b==1)
		printf("\t愚人节");
	else if(a==4 && b==5)
		printf("\t清明节");
	else if(a==5 && b==1)
		printf("\t劳动节");
	else if(a==6 && b==1)
		printf("\t儿童节");
	else if(a==7 && b==1)
		printf("\t建党节");
	else if(a==8 && b==1)
		printf("\t建军节");
	else if(a==9 && b==10)
		printf("\t教师节");
	else if(a==10 && b==1)
		printf("\t国庆节");
	else if(a==11 && b==26)
		printf("\t感恩节");
	else if(a==12 && b==25)
		printf("\t圣诞节");
}
//利用泰勒公式求星期*******************************************************************************************************************
int  qxq(int y,int m,int x)
{
	int c,w;
	c=y/100;
    w=c/4 - 2*c + y + y/4 + 26*(m+1)/10 + x-2;
	if(w>7)
	{
		while(w>7)
		{
			w=w-7;
		}
		
	}
	else if(w<=0)
	{
		while(w<=0)
		{
			w=w+7;
		}
	}
	return w;
}
//天干纪年法******************************************************************************************************************
int jn(int r,int q,int v)//d.year,d.month,1
{
	int t;
	int ly,lm,ld;
	zhNL(r,q,v,ly,lm,ld);
	t=ly%60-3;
	if(t<=0)
	{
		t=60;
	}
	return t;
	printf("%d\t",t);
}
//为输出求空格个数week************************************************************************************************************
void cal()
{
	int i,count;
	count =0;
	if(d.year>=2007)
	{
		for(i=2007;i<d.year;i++)
		{
			if(pd(i)==1)
				count = count +366;
			else
				count =count+365;
		}
		for(i=1;i<d.month;i++)
		{
			if(pd(d.year)==1)
				count=count+a2[i];
			else
				count = count + a1[i];
		}
		d.week = count %7+1;
	}
	else
	{
		for(i=d.year+1;i<2007;i++)
		{
			if(pd(i)==1)
				count = count +366;
			else
				count =count +365;
		}
		for(i=d.month;i<=12;i++)
		{
			if(pd(d.year)==1)
				count=count+a2[i];
			else
				count = count + a1[i];
		}
		if(count%7==0)
			d.week=1;
		else
			d.week =8 - count%7;
	}
}
//输出****************************************************************************************************
void display()
{
	int ly,lm,lb;
   	int i,k,j,ld,a=0,b=1;
    int e=0,h,t=0;	
	//int sh,index;
    printf("\t一\t二\t三\t四\t五\t六\t日\n");
	for(i=1;i<d.week;i++)//输出空格
		printf("\t  ");
	for(i=1;i<=d.day;i++)
	{	 
		
		printf("\t%2d",i);//输出公历日期
		if((i+d.week-1)%7==0)//如果换行的话在下一行输出农历
		{
			
			printf("\n");
			for(h=b;h<d.week;h++)
		        printf("\t  ");
			b=d.week ;//在农历之前输出空格
			for(j=1+a;j<=i;j++)
			{
				k=jieqi(d.year,d.month,j);//节气的值
				ld=zhNL(d.year,d.month,j,ly,lm,lb);//农历的日期
				if(pd1(d.month,j)==1)
				{
					pajr(d.month,j);//节日
				}
				else
				{
					if(k==-1)//有节气的话打印节气
					{
						if(ld==1)//打印农历
						{
							if(lm==t)
								printf("\t闰%s",nlyf[lm]);
							else
							    printf("\t%s",nlyf[lm]);
						}
						else if(ld==15)
						{
							if(lm==1)
								printf("\t元宵节");
							else
								printf("\t%s",nl[ld]);	
						}
						else
						{
							if(lm==12 && ld==30)
								printf("\t除夕");
							else
								printf("\t%s",nl[ld]);	
						}
					}	
					else
					{
						if(lm==1 && ld==1)
							printf("\t春节");
						else
							printf("\t%s",ss[k]);
					}
				}
				if((j+d.week-1)%7==0)
				{
					printf("\n");
				}
				t=lm;
			}
			a=i;
		}
	}
	if((i+d.week-2)%7!=0)//控制最后一行的输出
	{
		  printf("\n");
		  	for(j=1+a;j<i;j++)
			{
				k=jieqi(d.year,d.month,j);
				ld=zhNL(d.year,d.month,j,ly,lm,lb);
				if(k==-1)
				{
					if(ld==1)//打印农历
					{
						if(h==1)
							printf("\t%s",nlyf[lm]);
						else
						    printf("\t%s",nlyf[lm]);
					}
					else
							printf("\t%s",nl[ld]);
				}
				else
					printf("\t%s",ss[k]);
				if((j+d.week-1)%7==0)
				{
					printf("\n");
					e=0;
				}	
			}
		printf("\n");
	}
	
}
//*****************************************************************************************************************
//display
void display1()
{
	int o,m;
	o=jn(d.year,d.month,1);
	m=shengxiao(d.year,d.month,1);
	printf("\n");
	printf("\t\t\t*********************** \n");
	printf("\t\t\t   %d       \n",d.year);
	printf("\t\t\t          %s年  生肖：%s\n",gz[o],sx[m]);
	printf("\t\t\t*********************** \n");
	printf("\t\t**************  %s ****************\n",ylyf[d.month]);
	printf("\t\t\t   **************** \n");
	printf("\n");
}
void printf_one()
{   
	printf("请输入要查询的年份<****>\n");
	scanf("%d",&d.year);
	d.month=1;
	for(;d.month<=12;d.month++)
	{
		if(pd(d.year))
			d.day=a2[d.month];
	    else
			d.day=a1[d.month];
		cal();
	    display1();
		display();
	}
	printf("\n");

}
void printf_two()
{
	printf("请输入要查询的年月<**** **>：\n");
	scanf("%d%d",&d.year,&d.month);
	if(pd(d.year))
		d.day=a2[d.month];
	else
		d.day=a1[d.month];
	cal();
    display1();
	display();
}
void printf_three()
{
	int ly,lm,lb;
   	int k,ld;
    int e=0;
	printf("请输入要查询的年月日<**** ** **>：\n");
	scanf("%d%d%d",&d.year,&d.month,&d.day);
	k=jieqi(d.year,d.month,d.day);//节气的值
	ld=zhNL(d.year,d.month,d.day,ly,lm,lb);//农历的日期
	if(pd1(d.month,d.day)==1)
	{
		printf("节日为：");
		pajr(d.month,d.day);
		printf("\n");
	}//节日
	printf("农历日期为：");
	printf("%s%s\n",nlyf1[lm],nl[ld]);//打印农历
	if(k!=-1)
	{
		printf("节气为:");printf("\t%s",ss[k]);
	}
	printf("\n");
}
void printf_four()
{
	int w;
	printf("请输入要查询的年月日<**** ** **>：\n");
	scanf("%d%d%d",&d.year,&d.month,&d.day);
	w=qxq(d.year,d.month,d.day);
	printf("%s\n",xq[w]);
}
/*****************************************************************************************************************/
int main()
{
	char c;
	system("cls");
	printf("\n");
	printf("\n");
	printf("\t************************万年历************************\n");
	printf("\n");
	printf("\t\t      请选择您要查询的信息!\n");
	printf("\t\t      a.查询当年日历!\n");
	printf("\t\t      b.查询当年当月信息!\n");
	printf("\t\t      c.根据输入的日期查询节日和节气!\n");
	printf("\t\t      d.根据日期显示所在的星期!\n");
	scanf("%c",&c);
		system("cls");
		if(c=='a')
		{
			printf_one();
		}
		else if(c=='b')
		{
			printf_two();
		}
		else if(c=='c')
		{
			printf_three();
		}
		else if(c=='d')
		{
			printf_four();
		}
		else
		{
			printf("别调皮\n");
		}
	return 0;
}